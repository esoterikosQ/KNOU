---
title: "Untitled"
output: html_document
date: "2023-05-22"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
fileNames <- list.files(path = './[ML]finalterm.data')
```

## 세계 46개 주요 도시에 대한 물가와 소득에 관한 데이터를 아래와 같이 수집하였다. 파이썬을 이용하여 다음에 답하시오.

### (1) 각 변수의 표준화한 값을 이용하여 계층적 군집방법을 실시하고 dendrogram으로 표현하시오. 몇 개의 군집이 적절하다고 판단되는가?

```{python hclust}


```

### (2) K-평균 군집분석 방법을 이용하여 군집분석을 실시하고 (1)의 결과와 비교하시오.

```{python kmeans}

```

## 2. The World Happiness Report에는 세계의 144개 국가들의 국민들을 대상으로 행복지수를 조사한 결과가 수록되어 있다. 이 조사의 데이터는 Gallup World Poll에 수록되어 있으며, 2019년 조사결과는 happiness2019.csv 파일에 제공하고 있다. R을 이용하여 144개 국가에 대한 군집분석을 다음과 같이 실시하시오. 단, 결측치가 있는 국가의 데이터는 삭제하고 분석하시오. 

### (1) 각 변수별로 관찰값들을 표준화하시오.

```{r dea}

```

### (2) 중심연결볍을 이용하여 국가들을 군집화하고 덴드로그램으로 표현하시오. 몇 개의 군집이 적절하다고 판단되는가?

```{r hclust}

```


### (3) K-평균 군집분석 방법을 이용하여 3개 군집에 대한 군집분석을 실시하시오.

```{r kmeans}

```


### (4) K-평균 군집분석의 군집결과를 이용하여 판별분석을 수행하고 군집분석의 타당성을 설명하시오.

```{r da}

```

### (5) 우리나라가 속한 군집 내에서 지리적으로 가장 가까운 국가는 무엇인가?




## 3. 다음 대학입시 자료는 외국의 모 대학에 지원한 지원자 500명에 대하여 고등학교 성적 평점(GPA)과 대학입학자격 시험성적(SAT), 출신 고등학교 등급(RANK), 합격/불합격 여부(admin; 합격 = 1, 불합격 = 0)를 정리한 자료이다. 대학 합격/불합격 여부를 구분하기 위한 분류모형을 만들어 분석하고자 한다. python을 이용하여 다음에 답하시오.

### (1) train data와 test data로 구분한 후 train data를 이용하여 LDA 모형을 이용하여 분류 모형을 적합하고 결과를 설명하시오.

### (2) logistic regression을 이용하여 분류모형을 적합하고 결과를 설명하시오. 또한 LDA 모형의 결과와 비교 분석하시오.

### (3) 고교등급이 2등급, 1900점 이하의 sat 성적, gpa 성적이 3.7 이하 성적을 받은 학생들을 추출하여 합격 확률을 구하시오.


## 4. 다음은 타이타닉 자료를 가져오는 R 명령이다.

```{r 4}
titan_data <- 'https://raw.githubusercontent.com/guru99-edu/R-Programming/master/titanic_data.csv'
titanic <- read.csv(titan_data)
head(titanic)
```


## 이 자료를 이용하여 생존여부에 대하여 분류모형을 이용하여 분석하고자 한다. R을 이용하여 다음 물음에 답하시오.

###(1) 분석에 들어가기 전에 다음과 같은 과정을 거쳐 데이터를 정제하시오.

- 변수 pclass(승객 등급), Survived(생존여부), sex(성별), age(나이)를 택하시오.
- 승객등급 pclass 1, 2, 3을 'upper', 'middle', 'lower'인 인자변수로 변환하시오.
- 생존여부 survived 0, 1을 'no', 'yes'인 인자변수로 변환하시오.
- 결측값을 갖는 관찰치를 제거하시오.


### (2) train data(75%)와 test data(25%)를 만들고, train data를 이용하여 tree 모형을 만들고 결과를 설명하시오.

### (3) 적합된 tree 모형을 이용하여 test data에 대하여 분류하고, confusion matrix를 이용하여 분류결과를 설명하시오.

### (4) random forest 모형을 적합하여 분석하고 tree 모형의 결과와 비교하여 설명하시오.


## 5. 다음 자료는 포르투갈 은행에서 실시한 정기예금 마케팅 자료의 일부이다. 각 변수의 설명은 bank-names.txt 파일에 있다. neural networks 모형을 이용하여 정기예금 가입 여부(변수 y; 가입 = yes, 미가입 = no)을 분류하고자 한다. python을 이용하여 다음 물음에 답하시오.


### (1) 변수 (age, job, material, education, default, balance, housing, loan, y)를 선택하시오.


### (2) train data를 70%, test data를 25%로 하고, train data를 이용하여 정기예금 가입 여부(변수 y; 가입 = yes, 미가입 = no)를 분류하는 모형을 만들고 분류결과를 설명하시오.


### (3) test data에 대하여 분류하고 결과를 설명하시오.

### (4) random forest 모형을 적합하여 분석하고 신경망 분석 결과와 비교하시오.


## 6. 다음은 R에서 UCI machine learning dataset의 breast cancer data를 가져오는 명령이다. 반응변수는 diagnosis로서 'B'는 benign, 'M'은 malignant를 의미한다. id_number를 제외한 다른 변수를 이용하여 diagnosis를 분류하는 모형을 만들어 분석하고자 한다. R을 이용하여 물음에 답하시오.

```{r 6}
url <- c('https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/wdbc.data')
breast <- read.csv(url)
dim(breast)
names <- c('id_number', 'diagnosis', 'radius_mean', 'texture_mean', 'perimeter_mean',
           'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean',
           'concave_points_mean', 'symmetry_mean', 'fractal_dimension_mean',
           'radius_se', 'texture_se', 'perimeter_se', 'area_se', 'smoothness_se',
           'compactness_se', 'concavity_se', 'concave_points_se', 'symmetry_se',
           'fractal_dimension_se', 'radius_worst', 'texture_worst', 'perimeter_worst',
           'area_worst', 'smoothness_worst', 'compactness_worst', 'concavity_worst',
           'concave_points_worst', 'symmetry_worst', 'fractal_dimension_worst')
colnames(breast) <- names
table(breast$diagnosis)
```


### (1) 75%를 train data로, 25%를 test data로 만드시오.

### (2) train data를 이용하여 random forest 모형을 적합하고 test data를 이용하여 분류모형의 효율성을 분석하시오.

### (3) 변수 중요성(variable importance)을 시각화를 통해서 분석하시오.

### (4) random forest 모형을 tree 모형의 결과와 비교하여 설명하시오.



## 7. 다음은 주식 배당과 관련한 자료 일부이다. 여기서 변수의 의미는 다음과 같다.

- dividend : 주식배당; 0 = 배당없음, 1 = 배당
- fcfps : 주당 현금흐름(free cash flow per share, 단위 = $)
- earnings_growth : 수익 증가(earnings growth in the past year, 단위 = %)
- de : 부채 대 지분 비율(debt to equity ratio)
- mcap : 주식의 시장자본화(market capitalization of the stock)
- current_ratio : 유동 자산(current assets)

## neural networks를 이용해 주식배당 여부 분류를 하고자 한다. python을 이용하여 다음 물음에 답하시오.


### (1) 각 독립변수를 0-1 변환(max-min normaliztion)하시오.

### (2) train data와 test data를 만들고

### (3) hidden layer가 1개 또는 2개인 신경망 모형을 생성하고 confusion matrix 및 ROC 등을 이용하여 분류결과를 설명하시오.

### (4) test data를 이용하여 분류결과를 설명하시오.